#+TITLE: Emacs: 使用 Org-Page 搭建网站
#+DATE: <2018-08-18 Sat 20:05>
#+OPTIONS: H:3 num:nil toc:nil \n:nil ::t |:t ^:nil -:nil f:t *:t <:t date:t

* 安装 Org-Page
使用 =Spacemacs= 安装 Org-Page 极其方便. 只需要在自己的 layer 中增加 org-page 即可:

#+BEGIN_SRC emacs-lisp
(defconst lijigang-packages
  '(org-page
    cnfonts
    swiper
    wttrin
    beacon)
)
#+END_SRC

* 配置 Org-Page
#+BEGIN_SRC emacs-lisp
(defun lijigang/init-org-page()
  "Initialize org-page to publish blog."
  (use-package org-page
    :ensure t
    :config (progn
          (setq op/site-main-title "為學日益, 為道日損")
          (setq op/personal-github-link "https://github.com/lijigang")
          (setq op/repository-directory "~/lijigang")
          (setq op/site-domain "http://lijigang.github.io/")
          (setq op/theme-root-directory "~/.emacs.d/elpa/org-page-20170806.1924/themes")
          (setq op/theme 'ljg)
          (setq op/personal-google-analytics-id "your_id")
          (setq op/highlight-render 'js)
          (setq op/category-config-alist
            '(("blog"
              :show-meta t
              :show-comment t
              :uri-generator op/generate-uri
              :uri-template "/blog/%t/"
              :sort-by :date     ;; how to sort the posts
              :category-index nil) ;; generate category index or not
              ("index"
              :show-meta nil
              :show-comment nil
              :uri-generator op/generate-uri
              :uri-template "/"
              :sort-by :date
              :category-index nil)
              ("about"
              :show-meta nil
              :show-comment nil
              :uri-generator op/generate-uri
              :uri-template "/about/"
              :sort-by :date
              :category-index nil)))
          (bind-key "C-c M-p" 'op/do-publication-and-preview-site)))
    )
#+END_SRC

* 安装主题
可以参照 [[https://github.com/lijigang/ljg][这个主题说明
]]
1. 切换到 org-page 目录: cd ~/.emacs.d/elpa/org-page-xxxx.xx/themes
2. 下载到本地: git clone https://github.com/lijigang/ljg
3. 配置 org-page 的主题变量: (setq op/theme ‘ljg)
