<!DOCTYPE html>
<html lang="en-us">
<head>
  <title>Emacs: 使用 Org-Page 搭建网站 - 常识</title>
  <meta charset="utf-8" />
  <meta name="author" content="lijigang" />


  <link rel="alternate" title="RSS Feed" href="/rss.xml" type="application/rss+xml">
  <link rel="stylesheet" href="/media/css/main.css" type="text/css">
  <link rel="stylesheet" href="/media/css/posts.css" type="text/css">
</head>

  <body class="container">
<header id="header">
<body>
    <nav class="navbar navbar-default navbar-fixed-top" style="opacity: .9" role="navigation">
        <div class="container-fluid">
<div class="navbar-header">
            <button type="button" class="navbar-toggle" data-toggle="collapse" data-target="#bs-example-navbar-collapse-1">
                <span class="sr-only">Toggle navigation</span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
            </button>
            <a class="navbar-brand" href="/">常识</a>
        </div>
<div class="collapse navbar-collapse" id="bs-example-navbar-collapse-1">
            <ul class="nav navbar-nav navbar-right">
                <li class="active"><a href="/">Blog</a></li>
          <li><a href="https://github.com/lijigang">GitHub</a></li>
          <li><a href="http://www.zhihu.com/people/lijigang.com">知乎</a></li>
        </ul>
</div>
</div>
    </nav>
</body>
</header>

<section id="content" role="main">
    <div id="outline-container-sec-" class="row post-content">
        <div class="col-md-2"></div>
            <h1>Emacs: 使用 Org-Page 搭建网站</h1>
            
<div id="outline-container-org8ef3c1a" class="outline-2">
<h2 id="org8ef3c1a">安装 Org-Page</h2>
<div class="outline-text-2" id="text-org8ef3c1a">
<p>
使用 <code>Spacemacs</code> 安装 Org-Page 极其方便. 只需要在自己的 layer 中增加 org-page 即可:
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp">(defconst lijigang-packages
  '(org-page
    cnfonts
    swiper
    wttrin
    beacon)
)
</pre>
</div>
</div>
</div>

<div id="outline-container-orga0d1b2c" class="outline-2">
<h2 id="orga0d1b2c">配置 Org-Page</h2>
<div class="outline-text-2" id="text-orga0d1b2c">
<div class="org-src-container">
<pre class="src src-emacs-lisp">(defun lijigang/init-org-page()
  "Initialize org-page to publish blog."
  (use-package org-page
    :ensure t
    :config (progn
          (setq op/site-main-title "為學日益, 為道日損")
          (setq op/personal-github-link "https://github.com/lijigang")
          (setq op/repository-directory "~/lijigang")
          (setq op/site-domain "http://lijigang.github.io/")
          (setq op/theme-root-directory "~/.emacs.d/elpa/org-page-20170806.1924/themes")
          (setq op/theme 'ljg)
          (setq op/personal-google-analytics-id "your_id")
          (setq op/highlight-render 'js)
          (setq op/category-config-alist
            '(("blog"
              :show-meta t
              :show-comment t
              :uri-generator op/generate-uri
              :uri-template "/blog/%t/"
              :sort-by :date     ;; how to sort the posts
              :category-index nil) ;; generate category index or not
              ("index"
              :show-meta nil
              :show-comment nil
              :uri-generator op/generate-uri
              :uri-template "/"
              :sort-by :date
              :category-index nil)
              ("about"
              :show-meta nil
              :show-comment nil
              :uri-generator op/generate-uri
              :uri-template "/about/"
              :sort-by :date
              :category-index nil)))
          (bind-key "C-c M-p" 'op/do-publication-and-preview-site)))
    )
</pre>
</div>
</div>
</div>

<div id="outline-container-org86cbb05" class="outline-2">
<h2 id="org86cbb05">安装主题</h2>
<div class="outline-text-2" id="text-org86cbb05">
<ol class="org-ol">
<li>git clone <a href="https://github.com/lijigang/ljg">https://github.com/lijigang/ljg</a></li>

<li>cp -r ljg ~/.emacs.d/elpa/org-page-xxxx.xx/themes/</li>

<li>add (setq op/theme ‘ljg)</li>
</ol>
</div>
</div>

    </div>
</section>




<footer id="footer">
    <br />
    <script>
        var _hmt = _hmt || [];
        (function() {
            var hm = document.createElement("script");
            hm.src = "https://hm.baidu.com/hm.js?36d44a2295ffa55a3ab51c6aa7a71733";
            var s = document.getElementsByTagName("script")[0];
            s.parentNode.insertBefore(hm, s);
        })();
    </script>
</footer>

  </body>
</html>
